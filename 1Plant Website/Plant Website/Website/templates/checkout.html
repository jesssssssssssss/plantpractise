{% extends "navBase.html" %}
{% block title %}Checkout{% endblock %}
{% block content %}

    <link rel="stylesheet" href="{{ url_for('static', filename='css/checkout.css') }}">

    {% with messages = get_flashed_messages(with_categories=true) %} 
        {% if messages %}
            <ul class="message">
                {% for category, message in messages %}
                    <li class="{{category}}"> {{message}} </li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <h1 class="header">Checkout</h1>

    <form action="{{ url_for('views.checkout') }}" method="POST">

        <div class="checkoutDetails">
        
            <div class="contact">
                <h1>Contact</h1>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="{{ user.AccountDetails.email }}" required/>
            </div>



            <h1>Delivery</h1>
            <label for="country">Country/Region:</label>
            <input type="text" id="country" name="country" value="New Zealand" required/>

            <div class="">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" name="firstName" value="{{ user.AccountDetails.firstName }}" required/>   
            </div>
            

            <div class="">
                <label for="lastName">Last Name:</label>
                {% if user.AccountDetails.lastName %}
                <input type="text" id="lastName" name="lastName" value="{{ user.AccountDetails.lastName }}" required/>
                {% else %}
                <input type="text" id="lastName" name="lastName" />
                {% endif %}
            </div>


            <div class="">
                <p class="">Shipping Address:</p>

                {% if user.AccountDetails.addressHouseNo %}
                <label for="streetAddress">Street Address:</label> 
                <input type="text" id="addressHouseNo" name="addressHouseNo" value="{{ user.AccountDetails.addressHouseNo }}" required/>  
                <input type="text" id="addressStreetName" name="addressStreetName" value="{{user.AccountDetails.addressStreetName }}" required/> 
                <label for="suburb">Suburb:</label> 
                <input type="text" id="addressSuburb" name="addressSuburb" value="{{user.AccountDetails.addressSuburb }}" required/> 
                <label for="city">city:</label> 
                <input type="text" id="addressCity" name="addressCity" value="{{user.AccountDetails.addressCity }}" required/> 
                <label for="postCode">postCode:</label> 
                <input type="text" id="addressPostCode" name="addressPostCode" value="{{user.AccountDetails.addressPostCode }}" required/> 
                {% else %}
                <label for="streetAddress">Street Address:</label>
                <input type="text" id="addressHouseNo" name="addressHouseNo" required/>  
                <input type="text" id="addressStreetName" name="addressStreetName" required/> 
                <label for="suburb">Suburb:</label> 
                <input type="text" id="addressSuburb" name="addressSuburb"required /> 
                <label for="city">city:</label> 
                <input type="text" id="addressCity" name="addressCity" required /> 
                <label for="postCode">postCode:</label> 
                <input type="text" id="addressPostCode" name="addressPostCode" required />  {% endif %}
            </div>

            <div class=""> 
                <label for="email">Delivery Instructions:</label>
                <textarea type="text" id="deliveryInstr" name="deliveryInstr"></textarea> 
            </div>

        </div>

        <button type="submit">Proceed to Payment</button>
    </form>

{% endblock %}
