{% extends "navBase.html" %}
{% block title %}Checkout{% endblock %}
{% block content %}
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/checkout.css') }}">
</head>
<body>
    {% with messages = get_flashed_messages(with_categories=true) %} 
        {% if messages %}
            <ul class="message">
                {% for category, message in messages %}
                    <li class="{{category}}"> {{message}} </li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
    
    <h1>Checkout</h1>
    <form action="{{ url_for('views.checkout') }}" method="POST">
        <div>
        
            <div class="contact">
                <h2>Contact</h2>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="{{ user.AccountDetails.email }}" required/>
            </div>

            <h2>Delivery</h2>
            <label for="Country">Country/Region:</label>
            <input type="text" id="email" name="email" placeholder="New Zealand" required/>

            <div class="">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" name="firstName" value="{{ user.AccountDetails.firstName }}" required/>   
            </div>
            
            <div class="">
                <label for="lastName">Last Name:</label>
                {% if user.AccountDetails.lastName %}
                <input type="text" id="lastName" name="lastName" value="{{ user.AccountDetails.lastName }}"/>
                {% else %}
                <input type="text" id="lastName" name="lastName" />
                {% endif %}
            </div>

             <div class="">
                <p class="">Shipping Address:</p>
                {% if user.AccountDetails.addressHouseNo %}
                <label for="streetAddress">Street Address:</label>
                <input type="text" id="addressHouseNo" name="addressHouseNo" value="{{ user.AccountDetails.addressHouseNo }}"/>  
                <input type="text" id="addressStreetName" name="addressStreetName" value="{{user.AccountDetails.addressStreetName }}"/> 
                <label for="city">city:</label> 
                <input type="text" id="city" name="city" value="{{user.AccountDetails.city }}"/> 
                <label for="postCode">postCode:</label> 
                <input type="text" id="postCode" name="postCode" value="{{user.AccountDetails.postCode }}"/> 
                {% else %}
                <label for="streetAddress">Street Address:</label>
                <input type="text" id="addressHouseNo" name="addressHouseNo"/>  
                <input type="text" id="addressStreetName" name="addressStreetName"/> 
                <label for="suburb">suburb:</label> 
                <input type="text" id="addressSuburb" name="addressSuburb" /> 
                <label for="city">city:</label> 
                <input type="text" id="addressCity" name="addressCity" /> 
                <label for="postCode">postCode:</label> 
                <input type="text" id="addressPostCode" name="addressPostCode" />  {% endif %}
            </div>

            <div class=""> 
                <label for="email">Delivery Instructions:</label>
                <textarea type="text" id="deliveryInstr" name="deliveryInstr"></textarea> 
            </div>

        </div>

        <button type="submit">Proceed to Payment</button>
    </form>
</body>
{% endblock %}
