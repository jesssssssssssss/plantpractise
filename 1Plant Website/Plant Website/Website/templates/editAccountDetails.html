{% extends "navBase.html" %}
{% block title %} Account Details {% endblock %}
{% block content %}

<head>
    <meta charset="utf-8"/>
    <meta name ="viewport" content="width-device-width, initial-scale=1"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/editAccountDetails.css') }}">
</head>

<body>
    <br><br><br><br><br>
    <form method="POST" action="{{ url_for('views.editAccountDetails') }}">
        <div  class="errormsg" >
            {% with messages = get_flashed_messages(with_categories=true) %} 
            {% if messages %}
                <ul>
                    {% for category, message in messages %}
                        <li class="{{category}}"> {{message}} </li>
                    {% endfor %}
                </ul>
            {% endif %}
            {% endwith %}
        </div>

        <h1  align="center" class="myAccountHeading">My Account</h1>

        <div class="detailsFlex">

            <div class="personalDetailsFlex">

                <h1 align="left" class="detailsHeading">Personal Details</h1>

                <div class="sideOnCategory">

                    <div class="box">
                        <label for="firstName">First Name:</label>
                        <input type="text" id="firstName" name="firstName" value="{{ user.AccountDetails.firstName }}" required/>   
                    </div>

                    <div class="box">
                        <label for="lastName">Last Name:</label>
                        {% if user.AccountDetails.lastName %}
                        <input type="text" id="lastName" name="lastName" value="{{ user.AccountDetails.lastName }}"/>
                        {% else %}
                        <input type="text" id="lastName" name="lastName" />
                        {% endif %}
                        

                    </div>

                </div>
            
                <div class="boxSingle">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" value="{{ user.AccountDetails.email }}" required/>
                </div>

                <div class="boxSingle">
                    <label for="mobileNo">Mobile Number:</label>
                    {% if user.AccountDetails.mobileNo %}
                    <input type="text" id="mobileNo" name="mobileNo" value="{{ user.AccountDetails.mobileNo }}"/>
                    {% else %}
                    <input type="text" id="mobileNo" name="mobileNo"/>
                    {% endif %}
                </div>
            </div>
            
            <div class="personalDetailsFlex"> 
                
                <h1 class="detailsHeading">Shipping and Payment Details</h1>

                <div class="sideOnCategory">

                    <div class="box">
                        <label for="addressHouseNo">House/Unit number:</label>
                        {% if user.AccountDetails.addressHouseNo %}
                        <input type="text" id="addressHouseNo" name="addressHouseNo" value="{{ user.AccountDetails.addressHouseNo }}"/> 
                        {% else %}  
                        <input type="text" id="addressHouseNo" name="addressHouseNo"/> 
                       {% endif %}
                    </div>

                    <div class="box">
                        <label for="addressStreetName">Street Name:</label>
                        {% if user.AccountDetails.addressStreetName %}
                        <input type="text" id="addressStreetName" name="addressStreetName" value="{{ user.AccountDetails.addressStreetName }}"/>
                        {% else %}
                        <input type="text" id="addressStreetName" name="addressStreetName"/>
                       {% endif %}
                    </div>

                </div>


                <div class="sideOnCategory">

                    <div class="box">
                        <label for="addressSuburb">Suburb:</label>
                        {% if user.AccountDetails.addressSuburb %}
                        <input type="text" id="addressSuburb" name="addressSuburb" value="{{ user.AccountDetails.addressSuburb }}">
                        {% else %}
                        <input type="text" id="addressSuburb" name="addressSuburb">
                        {% endif %}
                    </div>

                    <div class="box">
                        <label for="addressCity">City:</label>
                        {% if user.AccountDetails.addressCity %}
                        <input type="text" id="addressCity" name="addressCity" value="{{ user.AccountDetails.addressCity }}">
                        {% else %}
                        <input type="text" id="addressCity" name="addressCity">
                        {% endif %}
                    </div>

                </div>
            

            
                <div class="boxSingle">
                    <label for="addressPostCode">Postcode:</label>
                    {% if user.AccountDetails.addressPostCode %}
                    <input type="text" id="addressPostCode" name="addressPostCode" value="{{ user.AccountDetails.addressPostCode }}">
                    {% else %}
                    <input type="text" id="addressPostCode" name="addressPostCode">
                    {% endif %}
                </div>



                <div class="boxSingle">
                    <label for="paymentCardNo">Payment Information:</label>
                    {% if user.AccountDetails.paymentCardNo %}
                    <input type="text" id="paymentCardNo" name="paymentCardNo" value="{{ user.AccountDetails.maskedCard }}">
                    {% else %}
                    <input type="text" id="paymentCardNo" name="paymentCardNo">
                    {% endif %}
                </div>



                <div class="sideOnCategory">

                    <div class="box">
                        <label for="paymentCardCvc">CVC:</label>
                        {% if user.AccountDetails.paymentCardCvc %}
                        <input type="text" id="paymentCardCvc" name="paymentCardCvc" value="***">
                        {% else %}
                        <input type="text" id="paymentCardCvc" name="paymentCardCvc">
                        {% endif %}
                    </div>

                    <div class="box">
                        <label for="paymentCardExp">Expiration Date:</label>
                        {% if user.AccountDetails.paymentCardExp %}
                        <input type="text" id="paymentCardExp" name="paymentCardExp" value="{{ user.AccountDetails.paymentCardExp }}">
                        {% else %}
                        <input type="text" id="paymentCardExp" name="paymentCardExp">
                        {% endif %}
                    </div>

                </div>

            </div>
        </div>
        <br>

        <button type="submit" align="center" class="editButton">Update Details</button>
    
    </form>
</body>
{% endblock %} 